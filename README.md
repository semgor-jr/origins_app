# OriginApp - Генетический Анализатор Происхождения

## Описание проекта

**OriginApp** - это комплексное приложение для анализа генетических данных и определения этнического происхождения на основе VCF файлов. Проект состоит из Android-приложения и серверной части, обеспечивающих полный цикл анализа ДНК.

## Основные возможности

### Android-приложение
- **Регистрация и аутентификация** с подтверждением email
- **Загрузка VCF файлов** для генетического анализа
- **Три типа анализа:**
  - Аутосомный анализ (этническое происхождение)
  - Y-хромосомный анализ (мужская линия)
  - Митохондриальный анализ (женская линия)
- **Настройки приложения** с регулировкой размера шрифта
- **Восстановление пароля** через email
- **Просмотр результатов** анализа в удобном формате

### Серверная часть
- **RESTful API** для взаимодействия с клиентом
- **Анализ VCF файлов** с использованием специализированных алгоритмов
- **База данных** для хранения пользователей и результатов
- **Система новостей** для информирования пользователей
- **Административная панель** для управления контентом

## Структура проекта

```
OriginApp/
├── app/                          # Android-приложение
│   ├── src/main/java/com/origin/app/
│   │   ├── ui/screens/           # Экраны приложения
│   │   ├── data/                 # Модели данных и API клиент
│   │   └── ui/theme/             # Темизация
│   └── build.gradle.kts
├── server/                       # Серверная часть
│   ├── src/main/kotlin/com/origin/server/
│   │   ├── data/                 # Анализаторы ДНК
│   │   └── Application.kt        # Основной сервер
│   └── build.gradle.kts
└── deployment/                   # Скрипты развертывания
```

## Быстрый старт

### Предварительные требования
- **Java 17+**
- **Android Studio**
- **Git** для клонирования репозитория

### Установка и запуск  и

1. **Клонирование репозитория:**
```bash
git clone https://github.com/semgor-jr/origins_app.git
cd origins_app
```

2. **Запуск сервера:**
```bash
./gradlew :server:run
```
Сервер будет доступен по адресу: `http://localhost:8080`

3. **Сборка Android-приложения:**
```bash
./gradlew :app:assembleDebug
```

4. **Установка на устройство:**
```bash
./gradlew :app:installDebug
```

## Использование приложения

### Регистрация
1. Откройте приложение
2. Заполните форму регистрации
3. Подтвердите email через ссылку в письме
4. Войдите в систему

### Анализ ДНК
1. Перейдите в раздел "Расшифровка"
2. Загрузите VCF файл с генетическими данными
3. Выберите тип анализа:
   - **Аутосомный** - для определения этнического происхождения
   - **Y-хромосомный** - для анализа мужской линии
   - **Митохондриальный** - для анализа женской линии
4. Дождитесь завершения анализа
5. Просмотрите результаты

## Технические детали

### Технологический стек

**Android-приложение:**
- **Kotlin** - основной язык разработки
- **Jetpack Compose** - UI фреймворк
- **DataStore** - для хранения настроек
- **Navigation Compose** - для навигации

**Серверная часть:**
- **Kotlin** - основной язык разработки
- **Ktor** - веб-фреймворк
- **Exposed** - ORM для работы с БД
- **H2 Database** - встроенная база данных
- **BCrypt** - хеширование паролей
- **JWT** - аутентификация

### Алгоритмы анализа

**Аутосомный анализ:**
- Статистический анализ частот SNP
- Кэширование результатов для оптимизации

**Y-хромосомный анализ:**
- Анализ гаплогрупп Y-хромосомы
- Определение мужской линии происхождения

**Митохондриальный анализ:**
- Анализ митохондриальной ДНК
- Определение женской линии происхождения

## API Endpoints

### Аутентификация
- `POST /auth/register` - регистрация пользователя
- `POST /auth/login` - вход в систему
- `POST /auth/verify-email` - подтверждение email
- `POST /auth/forgot-password` - восстановление пароля
- `POST /auth/reset-password` - сброс пароля

### Анализ данных
- `POST /reports/upload` - загрузка VCF файла для анализа
- `GET /reports/{id}` - получение результатов анализа
- `GET /reports` - список отчетов пользователя

### Новости
- `GET /news` - получение списка новостей
- `GET /news/{id}` - получение конкретной новости

## База данных

Проект использует H2 Database со следующими основными таблицами:
- **Users** - пользователи системы
- **Reports** - результаты анализов
- **News** - новости и статьи

## Безопасность

- **JWT токены** для аутентификации
- **BCrypt** для хеширования паролей
- **Валидация входных данных**
- **Защита от SQL-инъекций** через ORM

---

**OriginApp** - современное решение для анализа генетических данных.
